<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			function maxPathSum(root) {
				let maxSum = Number.MIN_SAFE_INTEGER //初始化最大路径和

				const dfs = (root) => {
					if (root == null) {
						//遍历节点是null 返回0
						return 0
					}
					const left = dfs(root.left) //递归左子树最大路径和
					const right = dfs(root.right) //递归右子树最大路径和

					maxSum = Math.max(maxSum, left + root.val + right) //更新最大值

					//返回当前子树的路径和 分为走左边、右边、不动 3种情况
					const pathSum = root.val + Math.max(0, left, right)
					return pathSum < 0 ? 0 : pathSum
				}

				dfs(root)

				return maxSum
			}

			function maxPath(root) {
				let maxsum = -Infinity
				function dfs(root) {
					if (root === null) return 0
					const left = dfs(root.left)
					const right = dfs(root.right)

					maxsum = Math.max(maxsum, left + root.val + right)

					const pathsum = root.val + Math.max(0, left, right)
					return pathsum < 0 ? 0 : pathsum
				}
				dep(root)
				return maxPathSum
			}
		</script>
	</body>
</html>
