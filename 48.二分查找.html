<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			/**
			    * 给定一个有序(非降序)数组A，可能含有重复元素，求最小的i使得A[i]等于target，不存在则返回-1。

			     array =[1,2,3,5,6,7,7,10]

			     target = 7，return 5

			     target = 8, return -1
			    * **/

			function task(arr, target) {
				if (!Array.isArray(arr)) return -1
				let left = 0,
					right = arr.length
				while (left < right) {
					let middle = parseInt((left + right) / 2)
					if (arr[middle] === target) {
						for (i = middle; i > 0; i--) {
							if (arr[i] !== target) {
								return arr[i + 1]
							}
						}
					} else if (arr[middle] > target) {
						right = middle - 1
					} else if (arr[middle] < target) {
						left = middle + 1
					}
				}
				return -1
			}
			console.log(task([1, 2, 3, 5, 6, 7, 7, 10], 7))
			console.log(task([1, 2, 3, 5, 6, 7, 7, 10], 8))
		</script>
	</body>
</html>
